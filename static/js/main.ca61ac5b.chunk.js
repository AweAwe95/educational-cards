(this["webpackJsonpeducational-cards"]=this["webpackJsonpeducational-cards"]||[]).push([[0],{41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},45:function(e,t,r){},71:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),c=r(17),a=r.n(c),i=(r(41),r(42),r(9)),o=(r(43),r(1));function l(){return Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)("div",{className:"header-right",children:[Object(o.jsx)(i.b,{to:"/",children:"Profile"}),Object(o.jsx)(i.b,{to:"/auth",children:"Authorization"}),Object(o.jsx)(i.b,{to:"/signup",children:"Registration"}),Object(o.jsx)(i.b,{to:"/password-recovery",children:"Password Recovery"}),Object(o.jsx)(i.b,{to:"/new-password",children:"New Password"}),Object(o.jsx)(i.b,{to:"/error-404",children:"Error 404"})]})})}r(45);function d(){return Object(o.jsx)("div",{className:"footer",children:Object(o.jsx)("p",{children:"Footer"})})}var u=r(5),j=r(3),b=r(12),h=r(35),O=r.n(h).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),m=function(e,t){return O.post("/auth/register",{email:e,password:t})},p=function(e,t,r){return O.post("/auth/forgot",{email:e,from:t,message:r})},x=function(e,t){return O.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},f=function(e){return O.post("/auth/login",Object(u.a)({},e)).then((function(e){return e.data}))},v={data:{},isLoggedIn:!1},g=function(){var e=Object(j.b)(),t=Object(b.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?e.password.length<=7&&(t.password="Password should contain more than 7 symbols"):t.email="Invalid email address":t.email="Required",t},onSubmit:function(t){var r;e((r=t,function(e){f(r).then((function(t){e(function(e){return{type:"AUTH/LOGIN",data:e}}(t)),e({type:"AUTH/IS-LOGGED-IN",isLoggedIn:!0})})).catch((function(e){var t=e.response.data.error?e.response.data.error:e.message+"more details in console";console.log("Error: "+t)}))}))}});return Object(o.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("input",Object(u.a)({type:"text",placeholder:"Enter your email"},t.getFieldProps("email"))),t.errors.email&&t.touched.email?Object(o.jsx)("span",{style:{color:"red"},children:t.errors.email}):null]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",Object(u.a)({type:"password",placeholder:"Enter your password"},t.getFieldProps("password"))),t.errors.password&&t.touched.password?Object(o.jsx)("span",{style:{color:"red"},children:t.errors.password}):null]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"checkbox"}),Object(o.jsx)("span",{children:"Remember me"})]}),Object(o.jsx)("button",{type:"submit",children:"Login"})]})},w=r(2);function y(){return Object(j.c)((function(e){return e.auth.isLoggedIn}))?Object(o.jsx)(w.a,{to:"/"}):Object(o.jsx)("div",{children:Object(o.jsx)(g,{})})}var E={isRegistered:!1,regError:!1},R=function(e){return{type:"REG-USER",isRegistered:e}},S=function(e){return{type:"SET-REG-ERROR",regError:e}},P=(r(71),function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.reg.isRegistered})),r=Object(j.c)((function(e){return e.reg.regError})),n=Object(b.a)({initialValues:{email:"",password:""},onSubmit:function(t){var r,n;e((r=t.email,n=t.password,function(e){m(r,n).then((function(){return e(R(!0))})).catch((function(){return e(S(!0))})).finally((function(){return e(R(!1))}))}))}});return t?Object(o.jsx)(w.a,{to:"/auth"}):Object(o.jsxs)("div",{className:"registerContainer",children:[Object(o.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(o.jsx)("p",{className:"registerText",children:"Please fill in this form to create an account."}),Object(o.jsx)("label",{htmlFor:"email",children:Object(o.jsx)("b",{children:"Email Address"})}),Object(o.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"Enter Email",onChange:n.handleChange,value:n.values.email,onFocus:function(){return e(S(!1))},className:"registerInput"}),Object(o.jsx)("label",{htmlFor:"password",children:Object(o.jsx)("b",{children:"Password"})}),Object(o.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Enter Password",onChange:n.handleChange,value:n.values.password,onFocus:function(){return e(S(!1))},className:"registerInput"}),Object(o.jsx)("button",{type:"submit",className:"registerBtn",children:"Submit"})]}),r&&Object(o.jsx)("h3",{className:"regError",children:"SOMETHING GOING WRONG"})]})});r(72);function N(){return Object(o.jsx)("div",{className:"registrationContainer",children:Object(o.jsx)(P,{})})}function C(){var e=Object(j.c)((function(e){return e.auth.data}));return console.log(e),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:e.name}),Object(o.jsx)("div",{children:e.created}),Object(o.jsx)("div",{children:e.updated})]})}function I(){return Object(o.jsx)("div",{children:"PageNotFound"})}var k={email:"",isPasRec:!1,from:"ai73a@yandex.by",message:"<div style=\"background-color: lime; padding: 15px\"> password recovery link: <a href='http://localhost:3000/new-password/$token$'> link</a></div>"},A=function(e){return{type:"IS-PASS-REC-REDUCER",isPasRec:e}},F=function(){var e=Object(j.b)(),t=(Object(j.c)((function(e){return e.auth.data.token})),Object(j.c)((function(e){return e.recPass.from}))),r=Object(j.c)((function(e){return e.recPass.message})),n=Object(b.a)({initialValues:{email:"",token:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(n){e(function(e,t,r){return function(n){p(e,t,r).then()}}(n.email,t,r))}});return Object(o.jsx)("form",{onSubmit:n.handleSubmit,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("label",{children:"Forgot your password?"})}),Object(o.jsx)("input",{id:"email",name:"email",type:"email",className:" ",value:n.values.email,onChange:n.handleChange,placeholder:"Type your Email",autoFocus:!0}),n.errors.email&&n.touched.email?Object(o.jsx)("span",{style:{color:"red"},children:n.errors.email}):null,Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",disabled:!n.values.email,children:"Send instruction"})})]})})};function T(){return Object(o.jsx)("div",{className:"",children:Object(o.jsx)(F,{})})}var G=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.recPass.isPasRec})),r=(Object(j.c)((function(e){return e.recPass.from})),Object(j.c)((function(e){return e.recPass.message})),Object(w.h)().serverToken);console.log(r);var n=Object(b.a)({initialValues:{password:"",token:""},onSubmit:function(t){var n,s;e((n=t.password,s=r,function(e){x(n,s).then((function(t){e(A(!0))})).finally((function(){return e(A(!1))}))}))}});return t?Object(o.jsx)(w.a,{to:"/"}):Object(o.jsx)("form",{onSubmit:n.handleSubmit,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("label",{children:"Create new password"})}),Object(o.jsx)("input",{id:"password",name:"password",type:"password",className:" ",value:n.values.password,onChange:n.handleChange,placeholder:"Type your Password",autoFocus:!0}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",disabled:!n.values.password,children:"Create new password"})})]})})};var L=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsx)("div",{children:Object(o.jsxs)(w.d,{children:[Object(o.jsx)(w.b,{path:"*",element:Object(o.jsx)(I,{})}),Object(o.jsx)(w.b,{path:"/auth",element:Object(o.jsx)(y,{})}),Object(o.jsx)(w.b,{path:"/signup",element:Object(o.jsx)(N,{})}),Object(o.jsx)(w.b,{path:"/",element:Object(o.jsx)(C,{})}),Object(o.jsx)(w.b,{path:"/password-recovery",element:Object(o.jsx)(T,{})}),Object(o.jsx)(w.b,{path:"/new-password/:serverToken",element:Object(o.jsx)(G,{})})]})}),Object(o.jsx)(d,{})]})},U=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,74)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))},D=r(21),Z={},H=r(36),V=Object(D.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/LOGIN":return Object(u.a)(Object(u.a)({},e),{},{data:t.data});case"AUTH/IS-LOGGED-IN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.isLoggedIn});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},recPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REC-PASS-REDUCER":return Object(u.a)(Object(u.a)({},e),{},{email:t.email});case"IS-PASS-REC-REDUCER":return Object(u.a)(Object(u.a)({},e),{},{isPasRec:t.isPasRec});default:return e}},reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REG-USER":return Object(u.a)(Object(u.a)({},e),{},{isRegistered:t.isRegistered});case"SET-REG-ERROR":return Object(u.a)(Object(u.a)({},e),{},{regError:t.regError});default:return e}}}),$=Object(D.c)(V,Object(D.a)(H.a));a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(j.a,{store:$,children:Object(o.jsx)(i.a,{children:Object(o.jsx)(L,{})})})}),document.getElementById("root")),U()}},[[73,1,2]]]);
//# sourceMappingURL=main.ca61ac5b.chunk.js.map